%% Demo Uptime Application
%% BEAM VM statistics service with embeddable LiveComponent
%% Deployed via hex.pm (not git) to demonstrate hex source type
#{
    name => demo_uptime,
    version => <<"0.3.0">>,
    description => <<"Real-time BEAM VM statistics service with embeddable LiveComponent for Phoenix apps">>,
    source => #{
        type => hex
    },
    %% Marketplace license - free model for now
    license => #{
        model => free
    },
    env => #{
        http_port => 8083,
        %% LiveView/LiveComponent integration
        %% This component can be dynamically rendered by host applications
        liveview_components => [
            #{
                id => vm_stats,
                module => 'Elixir.DemoUptimeWeb.StatsComponent',
                title => <<"BEAM Stats">>,
                description => <<"Real-time BEAM VM statistics dashboard">>,
                %% PubSub integration for real-time updates
                %% Host LiveView subscribes to this topic and forwards to component via send_update
                pubsub => 'Elixir.DemoUptime.PubSub',
                topic => <<"stats:updates">>,
                update_assign => stats
            }
        ]
    },
    health => #{
        type => http,
        port => 8083,
        path => <<"/health">>
    },
    depends_on => []
}.
